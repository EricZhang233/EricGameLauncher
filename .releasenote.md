# Eric Game Launcher (EGL) **v1.0.8** — 重磅更新

> [!IMPORTANT]
> **本次更新包含底层架构的代际重构与全新的动态配置管理系统，建议所有用户阅读以下变更。**

---

## 🚀 核心功能：全自动动态配置迁移系统 (Dynamic Config Migration)

- **跨版本无缝演进**：引入专用的 **`CfgUpdater`** 组件。支持基于规则（Rules-based）的 JSON Schema 升级，平滑处理字段重命名、逻辑重映射等破坏性变更。
- **JSON 物理瘦身**：集成 `WhenWritingNull` 过滤机制与字段清理算法，自动剔除配置中的冗余键值与 `null` 占位，确保 `config.json` 结构始终保持最小化。
- **历史路径自愈**：具备历史遗留路径（如旧版 `ico\` 前缀）的自动识别与重纠偏能力，确保版本更迭后资源索引的绝对准确性。
- **Side-by-Side 独立执行**：采用独立进程提取并执行迁移，将负载从 UI 主进程剥离，大幅提升应用启动响应速度。

---

## 🔥 重磅更新：UWP 游戏识别逻辑全线重构

- **双模态验证架构 (Dual-Mode Verification)**：
  1. **静态特征审计 (Static Audit)**：深度解析 `AppxManifest.xml`，实现高效、零耗时的本地精准识别。
  2. **云端官方确权 (Cloud Authority)**：集成 **Microsoft Store DisplayCatalog API**。通过微软官方数据库确保分类结果的绝对权威。
- **新增 Xbox 平台支持**：实现对 Xbox 游戏（UWP）的自动识别与管理器绑定，无缝接入 Xbox 桌面生态。
- **视觉增强 (Brand Identity)**：在路径标题栏新增平台专用 **Badge** 标识，视觉层级与所属平台一目了然。
- **性能策略优化**：采用“本地优先，联网兜底”的执行顺序，确保微软自研游戏瞬间识别。

---

## 🛠️ 底层演进：影子组件体系及构建流程重构

- **极致体积瘦身 (Payload Reduction)**
  - **脱敏 WinRT 依赖**：影子组件目标框架精简至跨平台 `.NET 10.0`，成功剔除 20MB+ 冗余 WinRT 投影库。
  - **分发策略优化**：改用主程序动态提取“三件套（EXE+DLL+Config）”架构，辅助组件体积指数级压减。
- **构建稳定性与产物管理**
  - **Payload 统一收纳**：所有影子中间产物统一定向至 `payload/` 文件夹，清理逻辑简化为一键删除该目录。
  - **构建流治理**：通过前置影子构建入口至 `BeforeBuild`，彻底解决资源竞争锁，增强全链路构建可靠性。

---

## ✨ 体验优化与 Bug 修复

- **右键菜单逻辑纯净化**：引入智能协议反向解析技术。菜单会自动反向推导并显示对应的平台功能（如通过 `steam://` 协议推导）。
- **高度上下文敏感**：屏蔽非执行文件的无效右键选项（如“打开文件位置”），保持 UI 清洁。
- **底层架构跨代升级**：全线主程序升级至 **.NET 10**，性能与开发效率全面提升。
- **极致精简**：全量死代码扫描与资源瘦身，进一步压缩构建体积。
